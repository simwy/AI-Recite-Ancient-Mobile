{"version":3,"file":"grid.js","sources":["pages/grid/grid.vue","pages/grid/grid.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"warp\">\r\n\t\t<!-- #ifdef APP -->\r\n\t\t<statusBar></statusBar>\r\n\t\t<!-- #endif -->\r\n\t\t\r\n\t\t<!-- banner -->\r\n\t\t<unicloud-db ref=\"bannerdb\" v-slot:default=\"{data, loading, error, options}\" collection=\"opendb-banner\"\r\n\t\t\tfield=\"_id,bannerfile,open_url,title\" @load=\"onqueryload\" >\r\n\t\t\t<!-- 当无banner数据时显示占位图 -->\r\n\t\t\t<image v-if=\"!(loading||data.length)\" class=\"banner-image\" src=\"/static/uni-center/headers.png\" mode=\"aspectFill\" :draggable=\"false\" />\r\n\t\t\t\r\n\t\t\t<swiper v-else class=\"swiper-box\"  @change=\"changeSwiper\" :current=\"current\" indicator-dots>\r\n\t\t\t\t<swiper-item v-for=\"(item, index) in data\" :key=\"item._id\">\r\n\t\t\t\t\t<image class=\"banner-image\" :src=\"item.bannerfile.url\" mode=\"aspectFill\" @click=\"clickBannerItem(item)\" :draggable=\"false\" />\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t</unicloud-db>\r\n\r\n\t\t<!-- 宫格 -->\r\n\t\t<view class=\"section-box\">\r\n\t\t\t<text class=\"decoration\"></text>\r\n\t\t\t<text class=\"section-text\">{{$t('grid.grid')}}</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"example-body\">\r\n\t\t\t<uni-grid :column=\"3\" :highlight=\"true\" @change=\"change\">\r\n\t\t\t\t<template v-for=\"(item,i) in gridList\">\r\n\t\t\t\t\t<uni-grid-item :index=\"i\" :key=\"i\"\r\n\t\t\t\t\t\tv-if=\"i<3 || i>2&&i<6&&hasLogin || i>5&&uniIDHasRole('admin')\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<view class=\"grid-item-box\" style=\"background-color: #fff;\">\r\n\t\t\t\t\t\t\t<!-- <image :src=\"'/static/grid/c'+(i+1)+'.png'\" class=\"image\" mode=\"aspectFill\" /> -->\r\n\t\t\t\t\t\t\t<text class=\"big-number\">{{i+1}}</text>\r\n\t\t\t\t\t\t\t<text class=\"text\">{{item}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</uni-grid-item>\r\n\t\t\t\t</template>\r\n\t\t\t</uni-grid>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t// #ifdef APP\r\n\timport statusBar from \"@/uni_modules/uni-nav-bar/components/uni-nav-bar/uni-status-bar\";\r\n\t// #endif\r\n\texport default {\r\n\t\t// #ifdef APP\r\n\t\tcomponents: {\r\n\t\t\tstatusBar\r\n\t\t},\r\n\t\t// #endif\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tgridList: [],\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\thasLogin:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.hasLogin = uniCloud.getCurrentUserInfo().tokenExpired > Date.now()\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tlet gridList = []\r\n\t\t\tfor (var i = 0; i < 3; i++) {\r\n\t\t\t\tgridList.push( this.$t('grid.visibleToAll') )\r\n\t\t\t}\r\n\t\t\tfor (var i = 0; i < 3; i++) {\r\n\t\t\t\tgridList.push( this.$t('grid.invisibleToTourists') )\r\n\t\t\t}\r\n\t\t\tfor (var i = 0; i < 3; i++) {\r\n\t\t\t\tgridList.push( this.$t('grid.adminVisible') )\r\n\t\t\t}\r\n\t\t\tthis.gridList = gridList\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tchange(e) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle:this.$t('grid.clickTip') + \" \" + `${e.detail.index + 1}` + \" \" + this.$t('grid.clickTipGrid'),\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * banner加载后触发的回调\r\n\t\t\t */\r\n\t\t\tonqueryload(data) {\r\n\t\t\t},\r\n\t\t\tchangeSwiper(e) {\r\n\t\t\t\tthis.current = e.detail.current\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 点击banner的处理\r\n\t\t\t */\r\n\t\t\tclickBannerItem(item) {\r\n\t\t\t\t// 有外部链接-跳转url\r\n\t\t\t\tif (item.open_url) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/uni_modules/uni-id-pages/pages/common/webview/webview?url=' + item.open_url + '&title=' + item.title,\r\n\t\t\t\t\t\tsuccess: res => {},\r\n\t\t\t\t\t\tfail: () => {},\r\n\t\t\t\t\t\tcomplete: () => {}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t// 其余业务处理\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t/* #ifndef APP-NVUE */\r\n\tpage {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground-color: #fff;\r\n\t\tmin-height: 100%;\r\n\t\theight: auto;\r\n\t}\r\n\tview {\r\n\t\tfont-size: 14px;\r\n\t\tline-height: inherit;\r\n\t}\r\n\t.example-body {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\t/* #endif */\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 0;\r\n\t\tfont-size: 14px;\r\n\t\tbackground-color: #ffffff;\r\n\t}\r\n\t/* #endif */\r\n\t\r\n\t.section-box{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\t.decoration{\r\n\t\twidth: 4px;\r\n\t\theight: 12px;\r\n\t\tborder-radius: 10px;\r\n\t\tbackground-color: #2979ff;\r\n\t}\r\n\t.section-text{\r\n\t\tcolor: #333;\r\n\t\tmargin-left: 15rpx;\r\n\t}\r\n\r\n\t/* #ifdef APP-NVUE */\r\n\t.warp {\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t/* #endif */\r\n\r\n\t.example-body {\r\n\t\tflex-direction: column;\r\n\t\tpadding: 15px;\r\n\t\tbackground-color: #ffffff;\r\n\t}\r\n\r\n\t.image {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t}\r\n\t\r\n\t.big-number{\r\n\t\tfont-size: 50rpx;\r\n\t\tfont-weight: 700;\r\n\t\tfont-stretch: condensed;\r\n\t\tfont-style:oblique;\r\n\t}\r\n\t\r\n\t.text {\r\n\t\ttext-align: center;\r\n\t\tfont-size: 26rpx;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t.example-body {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: block;\r\n\t\t/* #endif */\r\n\t}\r\n\r\n\t.grid-item-box {\r\n\t\tflex: 1;\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\t/* #endif */\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 15px 0;\r\n\t}\r\n\r\n\t.banner-image {\r\n\t\twidth: 100%;\r\n\t\theight: 400rpx;\r\n\t}\r\n\r\n\t.swiper-box {\r\n\t\theight: 400rpx;\r\n\t}\r\n\r\n\t.search-icons {\r\n\t\tpadding: 16rpx;\r\n\t}\r\n\r\n\t.search-container-bar {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\t/* #endif */\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 10;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t/* #ifndef APP-NVUE || VUE3*/\r\n\t::v-deep\r\n\t/* #endif */\r\n\t.uni-searchbar__box {\r\n\t\tborder-width: 0;\r\n\t}\r\n\r\n\t/* #ifndef APP-NVUE || VUE3 */\r\n\t::v-deep\r\n\t/* #endif */\r\n\t.uni-input-placeholder {\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from '/Users/chensm/Desktop/my-source/github.com/simwy/AI-Recite-Ancient-Mobile/pages/grid/grid.vue'\nwx.createPage(MiniProgramPage)"],"names":["uniCloud","uni"],"mappings":";;;AA+CC,MAAK,YAAU;AAAA,EAMd,OAAO;AACN,WAAO;AAAA,MACN,UAAU,CAAE;AAAA,MACZ,SAAS;AAAA,MACT,UAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,WAAWA,iBAAS,mBAAoB,EAAC,eAAe,KAAK,IAAI;AAAA,EACtE;AAAA,EACD,SAAS;AACR,QAAI,WAAW,CAAC;AAChB,aAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC3B,eAAS,KAAM,KAAK,GAAG,mBAAmB,CAAE;AAAA,IAC7C;AACA,aAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC3B,eAAS,KAAM,KAAK,GAAG,0BAA0B,CAAE;AAAA,IACpD;AACA,aAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC3B,eAAS,KAAM,KAAK,GAAG,mBAAmB,CAAE;AAAA,IAC7C;AACA,SAAK,WAAW;AAAA,EAChB;AAAA,EACD,SAAS;AAAA,IACR,OAAO,GAAG;AACTC,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAM,KAAK,GAAG,eAAe,IAAI,IAAS,EAAE,OAAO,QAAQ,CAAC,MAAW,KAAK,GAAG,mBAAmB;AAAA,QAClG,MAAM;AAAA,OACN;AAAA,IACD;AAAA;AAAA;AAAA;AAAA,IAID,YAAY,MAAM;AAAA,IACjB;AAAA,IACD,aAAa,GAAG;AACf,WAAK,UAAU,EAAE,OAAO;AAAA,IACxB;AAAA;AAAA;AAAA;AAAA,IAID,gBAAgB,MAAM;AAErB,UAAI,KAAK,UAAU;AAClBA,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK,gEAAgE,KAAK,WAAW,YAAY,KAAK;AAAA,UACtG,SAAS,SAAO;AAAA,UAAE;AAAA,UAClB,MAAM,MAAM;AAAA,UAAE;AAAA,UACd,UAAU,MAAM;AAAA,UAAC;AAAA,QAClB,CAAC;AAAA,MACF;AAAA,IAED;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1GD,GAAG,WAAW,eAAe;"}