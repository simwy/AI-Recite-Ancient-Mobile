{"version":3,"file":"openApp.js","sources":["common/openApp.js"],"sourcesContent":["/*\n\t创建在h5端全局悬浮引导用户下载app的功能，\n\t如不需要本功能直接移除配置文件uni-starter.config.js下的h5/openApp即可\n*/\n\nimport CONFIG from '../uni-starter.config.js';\n\nconst CONFIG_OPEN = CONFIG.h5.openApp || {};\n// 仅H5端添加\"打开APP\"\nexport default function() {\n\t// #ifdef H5\n\tif (!CONFIG_OPEN.openUrl) return;\n\n\tlet openLogo = CONFIG_OPEN.logo ?\n\t\t`<img src=\"${CONFIG_OPEN.logo}\" style=\"width: 2rem;height: 2rem;border-radius: 3px;\">` : '';\n\tlet openApp = document.createElement(\"div\");\n\topenApp.id = 'openApp';\n\topenApp.style =\n\t\t'position: fixed;background:#FFFFFF;box-shadow: #eeeeee 1px 1px 9px; ;top: 0;left: 0;right: 0;z-index: 999;width: 100%;height: 45px;display: flex;flex-direction: row;justify-content: space-between;align-items: center;box-sizing: border-box;padding: 0 0.5rem;'\n\topenApp.innerHTML = `\n\t\t<div style=\"display: flex;flex-direction: row;justify-content: flex-start;align-items: center;\">\n\t\t\t${openLogo}\n\t\t\t<div style=\"padding-left: 0.3rem;font-size: 12px;\">${CONFIG_OPEN.appname || ''}</div>\n\t\t</div>\n\t\t<div class=\"openBtn\" style=\"padding: 5px;font-size:12px;border-radius: 2px;border: 1px solid #007AFF;color: #007AFF;\">下载app</div>\n\t`;\n\tdocument.body.insertBefore(openApp, document.body.firstChild);\n\tdocument.body.style = 'height:calc(100% - 45px); margin-top:45px;';\n\topenApp.addEventListener('click', e => {\n\t\tvar target = e.target || e.srcElement;\n\t\tif (target.className.indexOf('openBtn') >= 0) {\n\t\t\twindow.location.href = CONFIG_OPEN.openUrl;\n\t\t}\n\t})\n\t//#endif\n}\n"],"names":["CONFIG"],"mappings":";;AAOoBA,kBAAAA,OAAO,GAAG,WAAW,CAAA;"}