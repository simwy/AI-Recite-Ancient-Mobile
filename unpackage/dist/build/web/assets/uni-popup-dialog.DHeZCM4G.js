import{i as e,o as t,c as l,w as o,a,v as i,d as p,t as u,b as s,e as n,n as d,g as r,f as c,I as h}from"./index-mx_jV9ub.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";const m={data:()=>({}),created(){this.popup=this.getParent()},methods:{getParent(e="uniPopup"){let t=this.$parent,l=t.$options.name;for(;l!==e;){if(t=t.$parent,!t)return!1;l=t.$options.name}return t}}},g={en:{"uni-popup.cancel":"cancel","uni-popup.ok":"ok","uni-popup.placeholder":"pleace enter","uni-popup.title":"Hint","uni-popup.shareTitle":"Share to"},"zh-Hans":{"uni-popup.cancel":"取消","uni-popup.ok":"确定","uni-popup.placeholder":"请输入","uni-popup.title":"提示","uni-popup.shareTitle":"分享到"},"zh-Hant":{"uni-popup.cancel":"取消","uni-popup.ok":"確定","uni-popup.placeholder":"請輸入","uni-popup.title":"提示","uni-popup.shareTitle":"分享到"}},{t:y}=e(g);const x=f({name:"uniPopupDialog",mixins:[m],emits:["confirm","close","update:modelValue","input"],props:{inputType:{type:String,default:"text"},showClose:{type:Boolean,default:!0},modelValue:{type:[Number,String],default:""},placeholder:{type:[String,Number],default:""},type:{type:String,default:"error"},mode:{type:String,default:"base"},title:{type:String,default:""},content:{type:String,default:""},beforeClose:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""},maxlength:{type:Number,default:-1},focus:{type:Boolean,default:!0},borderRadius:{type:String,default:"11px"}},data:()=>({dialogType:"error",val:""}),computed:{okText(){return this.confirmText||y("uni-popup.ok")},closeText(){return this.cancelText||y("uni-popup.cancel")},placeholderText(){return this.placeholder||y("uni-popup.placeholder")},titleText(){return this.title||y("uni-popup.title")}},watch:{type(e){this.dialogType=e},mode(e){"input"===e&&(this.dialogType="info")},value(e){this.setVal(e)},modelValue(e){this.setVal(e)},val(e){this.$emit("update:modelValue",e)}},created(){this.popup.disableMask(),"input"===this.mode?(this.dialogType="info",this.val=this.value,this.val=this.modelValue):this.dialogType=this.type},methods:{setVal(e){-1!=this.maxlength&&"input"===this.mode?this.val=e.slice(0,this.maxlength):this.val=e},onOk(){"input"===this.mode?this.$emit("confirm",this.val):this.$emit("confirm"),this.beforeClose||this.popup.close()},closeDialog(){this.$emit("close"),this.beforeClose||this.popup.close()},close(){this.popup.close()}}},[["render",function(e,f,m,g,y,x){const T=r,b=c,_=h;return t(),l(b,{class:"uni-popup-dialog",style:d({borderRadius:m.borderRadius})},{default:o((()=>[a(b,{class:"uni-dialog-title"},{default:o((()=>[a(T,{class:i(["uni-dialog-title-text",["uni-popup__"+y.dialogType]])},{default:o((()=>[p(u(x.titleText),1)])),_:1},8,["class"])])),_:1}),"base"===m.mode?(t(),l(b,{key:0,class:"uni-dialog-content"},{default:o((()=>[s(e.$slots,"default",{},(()=>[a(T,{class:"uni-dialog-content-text"},{default:o((()=>[p(u(m.content),1)])),_:1})]),!0)])),_:3})):(t(),l(b,{key:1,class:"uni-dialog-content"},{default:o((()=>[s(e.$slots,"default",{},(()=>[a(_,{class:"uni-dialog-input",maxlength:m.maxlength,modelValue:y.val,"onUpdate:modelValue":f[0]||(f[0]=e=>y.val=e),type:m.inputType,placeholder:x.placeholderText,focus:m.focus},null,8,["maxlength","modelValue","type","placeholder","focus"])]),!0)])),_:3})),a(b,{class:"uni-dialog-button-group"},{default:o((()=>[m.showClose?(t(),l(b,{key:0,class:"uni-dialog-button",onClick:x.closeDialog},{default:o((()=>[a(T,{class:"uni-dialog-button-text"},{default:o((()=>[p(u(x.closeText),1)])),_:1})])),_:1},8,["onClick"])):n("",!0),a(b,{class:i(["uni-dialog-button",m.showClose?"uni-border-left":""]),onClick:x.onOk},{default:o((()=>[a(T,{class:"uni-dialog-button-text uni-button-color"},{default:o((()=>[p(u(x.okText),1)])),_:1})])),_:1},8,["class","onClick"])])),_:1})])),_:3},8,["style"])}],["__scopeId","data-v-48dd424a"]]);export{x as _};
