"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("@dcloudio/uni-h5"),o=require("@dcloudio/uni-cloud"),a=require("./uni-match-media.-lgn3PGo.js"),t=require("vue"),r=require("@dcloudio/uni-app"),s=require("./uni-forms.CJ4dDWzJ.js"),l=require("./uni-forms-item.D3d2HZ7Y.js"),n=require("./uni-easyinput.C_oEcPLw.js"),u=require("./uni-id-pages-agreements.9JZ6pWUW.js"),d=require("./validator.CXP7XE2B.js"),i=require("./login-page.mixin.BWGCa6Ap.js"),m=require("./_plugin-vue_export-helper.BDcHAK_d.js");require("./uni-icons.DF9TZjrB.js"),require("./uni-popup.B_u0Fe_N.js"),require("./uni-popup-dialog.BiXp_EP-.js"),require("@dcloudio/uni-i18n"),require("../entry-server.js"),require("vue-i18n"),require("@vue/server-renderer"),require("@dcloudio/uni-shared"),require("./password.BqUPu9Pe.js"),require("./store.Cv4WGu-a.js"),require("@vue/shared");const c=o.importObject("uni-id-co",{customUI:!0}),p={mixins:[i.mixin],data:()=>({formData:{username:"",nickname:"",password:"",password2:"",captcha:""},rules:d.rules,focusUsername:!1,focusNickname:!1,focusPassword:!1,focusPassword2:!1,logo:"/static/logo.png"}),onReady(){this.$refs.form.setRules(this.rules)},onShow(){document.onkeydown=e=>{var o=e||window.event;o&&13==o.keyCode&&this.submit()}},methods:{submit(){this.$refs.form.validate().then((e=>{if(this.needAgreements&&!this.agree)return this.$refs.agreements.popup((()=>{this.submitForm(e)}));this.submitForm(e)})).catch((e=>{let o=e[0].key;o=o.replace(o[0],o[0].toUpperCase()),this["focus"+o]=!0}))},submitForm(o){c.registerAdmin(this.formData).then((o=>{e.navigateBack()})).catch((o=>{this.$refs.captcha.getImageCaptcha(),e.showModal({title:"提示",content:o.errMsg||`创建失败: ${o.errCode}`,showCancel:!1})}))},navigateBack(){e.navigateBack()},toLogin(){e.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"})},registerByEmail(){e.navigateTo({url:"/uni_modules/uni-id-pages/pages/register/register-by-email"})}}};const f=p.setup;p.setup=(e,o)=>{const a=t.useSSRContext();return(a.modules||(a.modules=new Set)).add("uni_modules/uni-id-pages/pages/register/register-admin.vue"),f?f(e,o):void 0};const V=m._export_sfc(p,[["ssrRender",function(o,d,i,c,p,f,V,w){const h=e.View,x=r.resolveEasycom(t.resolveDynamicComponent("uni-match-media"),a.__easycom_1),C=e.Image,g=e.Text,N=r.resolveEasycom(t.resolveDynamicComponent("uni-forms"),s.__easycom_4),k=r.resolveEasycom(t.resolveDynamicComponent("uni-forms-item"),l.__easycom_5),_=r.resolveEasycom(t.resolveDynamicComponent("uni-easyinput"),n.__easycom_6),b=r.resolveEasycom(t.resolveDynamicComponent("uni-id-pages-agreements"),u.__easycom_7),B=e.Button;d(m.ssrRenderComponent(h,t.mergeProps({class:"uni-content"},c),{default:t.withCtx(((e,a,r,s)=>{if(!a)return[t.createVNode(x,{"min-width":690},{default:t.withCtx((()=>[t.createVNode(h,{class:"login-logo"},{default:t.withCtx((()=>[t.createVNode(C,{src:V.logo},null,8,["src"])])),_:1}),t.createVNode(g,{class:"title title-box"},{default:t.withCtx((()=>[t.createTextVNode("创建超级管理员")])),_:1})])),_:1}),t.createVNode(N,{ref:"form",value:V.formData,rules:V.rules,"validate-trigger":"submit","err-show-type":"toast"},{default:t.withCtx((()=>[t.createVNode(k,{name:"username",required:""},{default:t.withCtx((()=>[t.createVNode(_,{inputBorder:!1,focus:V.focusUsername,onBlur:e=>V.focusUsername=!1,class:"input-box",placeholder:"请输入用户名",modelValue:V.formData.username,"onUpdate:modelValue":e=>V.formData.username=e,trim:"both"},null,8,["focus","onBlur","modelValue","onUpdate:modelValue"])])),_:1}),t.createVNode(k,{name:"nickname"},{default:t.withCtx((()=>[t.createVNode(_,{inputBorder:!1,focus:V.focusNickname,onBlur:e=>V.focusNickname=!1,class:"input-box",placeholder:"请输入用户昵称",modelValue:V.formData.nickname,"onUpdate:modelValue":e=>V.formData.nickname=e,trim:"both"},null,8,["focus","onBlur","modelValue","onUpdate:modelValue"])])),_:1}),t.createVNode(k,{name:"password",modelValue:V.formData.password,"onUpdate:modelValue":e=>V.formData.password=e,required:""},{default:t.withCtx((()=>[t.createVNode(_,{inputBorder:!1,focus:V.focusPassword,onBlur:e=>V.focusPassword=!1,class:"input-box",maxlength:"20",placeholder:"请输入"+("weak"==o.config.passwordStrength?"6":"8")+"-16位密码",type:"password",modelValue:V.formData.password,"onUpdate:modelValue":e=>V.formData.password=e,trim:"both"},null,8,["focus","onBlur","placeholder","modelValue","onUpdate:modelValue"])])),_:1},8,["modelValue","onUpdate:modelValue"]),t.createVNode(k,{name:"password2",modelValue:V.formData.password2,"onUpdate:modelValue":e=>V.formData.password2=e,required:""},{default:t.withCtx((()=>[t.createVNode(_,{inputBorder:!1,focus:V.focusPassword2,onBlur:e=>V.focusPassword2=!1,class:"input-box",placeholder:"再次输入密码",maxlength:"20",type:"password",modelValue:V.formData.password2,"onUpdate:modelValue":e=>V.formData.password2=e,trim:"both"},null,8,["focus","onBlur","modelValue","onUpdate:modelValue"])])),_:1},8,["modelValue","onUpdate:modelValue"]),t.createVNode(b,{scope:"register",ref:"agreements"},null,512),t.createVNode(B,{class:"uni-btn",type:"primary",onClick:w.submit},{default:t.withCtx((()=>[t.createTextVNode("注册")])),_:1},8,["onClick"]),t.createVNode(B,{onClick:w.navigateBack,class:"register-back"},{default:t.withCtx((()=>[t.createTextVNode("返回")])),_:1},8,["onClick"]),t.createVNode(x,{"min-width":690},{default:t.withCtx((()=>[t.createVNode(h,{class:"link-box"},{default:t.withCtx((()=>[t.createVNode(g,{class:"link",onClick:w.toLogin},{default:t.withCtx((()=>[t.createTextVNode("已有账号？点此登录")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["value","rules"])];a(m.ssrRenderComponent(x,{"min-width":690},{default:t.withCtx(((e,o,a,r)=>{if(!o)return[t.createVNode(h,{class:"login-logo"},{default:t.withCtx((()=>[t.createVNode(C,{src:V.logo},null,8,["src"])])),_:1}),t.createVNode(g,{class:"title title-box"},{default:t.withCtx((()=>[t.createTextVNode("创建超级管理员")])),_:1})];o(m.ssrRenderComponent(h,{class:"login-logo"},{default:t.withCtx(((e,o,a,r)=>{if(!o)return[t.createVNode(C,{src:V.logo},null,8,["src"])];o(m.ssrRenderComponent(C,{src:V.logo},null,a,r))})),_:1},a,r)),o(m.ssrRenderComponent(g,{class:"title title-box"},{default:t.withCtx(((e,o,a,r)=>{if(!o)return[t.createTextVNode("创建超级管理员")];o("创建超级管理员")})),_:1},a,r))})),_:1},r,s)),a(m.ssrRenderComponent(N,{ref:"form",value:V.formData,rules:V.rules,"validate-trigger":"submit","err-show-type":"toast"},{default:t.withCtx(((e,a,r,s)=>{if(!a)return[t.createVNode(k,{name:"username",required:""},{default:t.withCtx((()=>[t.createVNode(_,{inputBorder:!1,focus:V.focusUsername,onBlur:e=>V.focusUsername=!1,class:"input-box",placeholder:"请输入用户名",modelValue:V.formData.username,"onUpdate:modelValue":e=>V.formData.username=e,trim:"both"},null,8,["focus","onBlur","modelValue","onUpdate:modelValue"])])),_:1}),t.createVNode(k,{name:"nickname"},{default:t.withCtx((()=>[t.createVNode(_,{inputBorder:!1,focus:V.focusNickname,onBlur:e=>V.focusNickname=!1,class:"input-box",placeholder:"请输入用户昵称",modelValue:V.formData.nickname,"onUpdate:modelValue":e=>V.formData.nickname=e,trim:"both"},null,8,["focus","onBlur","modelValue","onUpdate:modelValue"])])),_:1}),t.createVNode(k,{name:"password",modelValue:V.formData.password,"onUpdate:modelValue":e=>V.formData.password=e,required:""},{default:t.withCtx((()=>[t.createVNode(_,{inputBorder:!1,focus:V.focusPassword,onBlur:e=>V.focusPassword=!1,class:"input-box",maxlength:"20",placeholder:"请输入"+("weak"==o.config.passwordStrength?"6":"8")+"-16位密码",type:"password",modelValue:V.formData.password,"onUpdate:modelValue":e=>V.formData.password=e,trim:"both"},null,8,["focus","onBlur","placeholder","modelValue","onUpdate:modelValue"])])),_:1},8,["modelValue","onUpdate:modelValue"]),t.createVNode(k,{name:"password2",modelValue:V.formData.password2,"onUpdate:modelValue":e=>V.formData.password2=e,required:""},{default:t.withCtx((()=>[t.createVNode(_,{inputBorder:!1,focus:V.focusPassword2,onBlur:e=>V.focusPassword2=!1,class:"input-box",placeholder:"再次输入密码",maxlength:"20",type:"password",modelValue:V.formData.password2,"onUpdate:modelValue":e=>V.formData.password2=e,trim:"both"},null,8,["focus","onBlur","modelValue","onUpdate:modelValue"])])),_:1},8,["modelValue","onUpdate:modelValue"]),t.createVNode(b,{scope:"register",ref:"agreements"},null,512),t.createVNode(B,{class:"uni-btn",type:"primary",onClick:w.submit},{default:t.withCtx((()=>[t.createTextVNode("注册")])),_:1},8,["onClick"]),t.createVNode(B,{onClick:w.navigateBack,class:"register-back"},{default:t.withCtx((()=>[t.createTextVNode("返回")])),_:1},8,["onClick"]),t.createVNode(x,{"min-width":690},{default:t.withCtx((()=>[t.createVNode(h,{class:"link-box"},{default:t.withCtx((()=>[t.createVNode(g,{class:"link",onClick:w.toLogin},{default:t.withCtx((()=>[t.createTextVNode("已有账号？点此登录")])),_:1},8,["onClick"])])),_:1})])),_:1})];a(m.ssrRenderComponent(k,{name:"username",required:""},{default:t.withCtx(((e,o,a,r)=>{if(!o)return[t.createVNode(_,{inputBorder:!1,focus:V.focusUsername,onBlur:e=>V.focusUsername=!1,class:"input-box",placeholder:"请输入用户名",modelValue:V.formData.username,"onUpdate:modelValue":e=>V.formData.username=e,trim:"both"},null,8,["focus","onBlur","modelValue","onUpdate:modelValue"])];o(m.ssrRenderComponent(_,{inputBorder:!1,focus:V.focusUsername,onBlur:e=>V.focusUsername=!1,class:"input-box",placeholder:"请输入用户名",modelValue:V.formData.username,"onUpdate:modelValue":e=>V.formData.username=e,trim:"both"},null,a,r))})),_:1},r,s)),a(m.ssrRenderComponent(k,{name:"nickname"},{default:t.withCtx(((e,o,a,r)=>{if(!o)return[t.createVNode(_,{inputBorder:!1,focus:V.focusNickname,onBlur:e=>V.focusNickname=!1,class:"input-box",placeholder:"请输入用户昵称",modelValue:V.formData.nickname,"onUpdate:modelValue":e=>V.formData.nickname=e,trim:"both"},null,8,["focus","onBlur","modelValue","onUpdate:modelValue"])];o(m.ssrRenderComponent(_,{inputBorder:!1,focus:V.focusNickname,onBlur:e=>V.focusNickname=!1,class:"input-box",placeholder:"请输入用户昵称",modelValue:V.formData.nickname,"onUpdate:modelValue":e=>V.formData.nickname=e,trim:"both"},null,a,r))})),_:1},r,s)),a(m.ssrRenderComponent(k,{name:"password",modelValue:V.formData.password,"onUpdate:modelValue":e=>V.formData.password=e,required:""},{default:t.withCtx(((e,a,r,s)=>{if(!a)return[t.createVNode(_,{inputBorder:!1,focus:V.focusPassword,onBlur:e=>V.focusPassword=!1,class:"input-box",maxlength:"20",placeholder:"请输入"+("weak"==o.config.passwordStrength?"6":"8")+"-16位密码",type:"password",modelValue:V.formData.password,"onUpdate:modelValue":e=>V.formData.password=e,trim:"both"},null,8,["focus","onBlur","placeholder","modelValue","onUpdate:modelValue"])];a(m.ssrRenderComponent(_,{inputBorder:!1,focus:V.focusPassword,onBlur:e=>V.focusPassword=!1,class:"input-box",maxlength:"20",placeholder:"请输入"+("weak"==o.config.passwordStrength?"6":"8")+"-16位密码",type:"password",modelValue:V.formData.password,"onUpdate:modelValue":e=>V.formData.password=e,trim:"both"},null,r,s))})),_:1},r,s)),a(m.ssrRenderComponent(k,{name:"password2",modelValue:V.formData.password2,"onUpdate:modelValue":e=>V.formData.password2=e,required:""},{default:t.withCtx(((e,o,a,r)=>{if(!o)return[t.createVNode(_,{inputBorder:!1,focus:V.focusPassword2,onBlur:e=>V.focusPassword2=!1,class:"input-box",placeholder:"再次输入密码",maxlength:"20",type:"password",modelValue:V.formData.password2,"onUpdate:modelValue":e=>V.formData.password2=e,trim:"both"},null,8,["focus","onBlur","modelValue","onUpdate:modelValue"])];o(m.ssrRenderComponent(_,{inputBorder:!1,focus:V.focusPassword2,onBlur:e=>V.focusPassword2=!1,class:"input-box",placeholder:"再次输入密码",maxlength:"20",type:"password",modelValue:V.formData.password2,"onUpdate:modelValue":e=>V.formData.password2=e,trim:"both"},null,a,r))})),_:1},r,s)),a(m.ssrRenderComponent(b,{scope:"register",ref:"agreements"},null,r,s)),a(m.ssrRenderComponent(B,{class:"uni-btn",type:"primary",onClick:w.submit},{default:t.withCtx(((e,o,a,r)=>{if(!o)return[t.createTextVNode("注册")];o("注册")})),_:1},r,s)),a(m.ssrRenderComponent(B,{onClick:w.navigateBack,class:"register-back"},{default:t.withCtx(((e,o,a,r)=>{if(!o)return[t.createTextVNode("返回")];o("返回")})),_:1},r,s)),a(m.ssrRenderComponent(x,{"min-width":690},{default:t.withCtx(((e,o,a,r)=>{if(!o)return[t.createVNode(h,{class:"link-box"},{default:t.withCtx((()=>[t.createVNode(g,{class:"link",onClick:w.toLogin},{default:t.withCtx((()=>[t.createTextVNode("已有账号？点此登录")])),_:1},8,["onClick"])])),_:1})];o(m.ssrRenderComponent(h,{class:"link-box"},{default:t.withCtx(((e,o,a,r)=>{if(!o)return[t.createVNode(g,{class:"link",onClick:w.toLogin},{default:t.withCtx((()=>[t.createTextVNode("已有账号？点此登录")])),_:1},8,["onClick"])];o(m.ssrRenderComponent(g,{class:"link",onClick:w.toLogin},{default:t.withCtx(((e,o,a,r)=>{if(!o)return[t.createTextVNode("已有账号？点此登录")];o("已有账号？点此登录")})),_:1},a,r))})),_:1},a,r))})),_:1},r,s))})),_:1},r,s))})),_:1},i))}],["__scopeId","data-v-aaf7d8b3"]]);exports.default=V;
