"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("@dcloudio/uni-h5"),e=require("@dcloudio/uni-cloud"),a=require("vue"),i=require("./_plugin-vue_export-helper.BDcHAK_d.js");require("@vue/shared");const r=e.database(),o={data:()=>({id:"",detail:{}}),onLoad(t){this.id=t.id,this.loadDetail()},methods:{async loadDetail(){try{const t=await r.collection("ancient-texts").doc(this.id).get();t.result.data&&t.result.data.length>0&&(this.detail=t.result.data[0])}catch(e){t.showToast({title:"加载失败",icon:"none"})}},goRecite(){t.getApp().globalData=t.getApp().globalData||{},t.getApp().globalData.currentText=this.detail,t.navigateTo({url:`/pages/ancient/recite?id=${this.id}`})}}};const s=o.setup;o.setup=(t,e)=>{const i=a.useSSRContext();return(i.modules||(i.modules=new Set)).add("pages/ancient/detail.vue"),s?s(t,e):void 0};const n=i._export_sfc(o,[["ssrRender",function(e,r,o,s,n,l,d,c){const u=t.View,p=t.Text,x=t.Button;r(i.ssrRenderComponent(u,a.mergeProps({class:"container"},s),{default:a.withCtx(((t,e,r,o)=>{if(!e)return[a.createVNode(u,{class:"header"},{default:a.withCtx((()=>[a.createVNode(p,{class:"title"},{default:a.withCtx((()=>[a.createTextVNode(a.toDisplayString(d.detail.title),1)])),_:1}),a.createVNode(p,{class:"meta"},{default:a.withCtx((()=>[a.createTextVNode(a.toDisplayString(d.detail.dynasty)+" · "+a.toDisplayString(d.detail.author),1)])),_:1})])),_:1}),a.createVNode(u,{class:"content-box"},{default:a.withCtx((()=>[a.createVNode(p,{class:"content"},{default:a.withCtx((()=>[a.createTextVNode(a.toDisplayString(d.detail.content),1)])),_:1})])),_:1}),a.createVNode(u,{class:"action-bar"},{default:a.withCtx((()=>[a.createVNode(x,{type:"primary",class:"btn-recite",onClick:c.goRecite},{default:a.withCtx((()=>[a.createTextVNode(" 开始背诵 ")])),_:1},8,["onClick"])])),_:1})];e(i.ssrRenderComponent(u,{class:"header"},{default:a.withCtx(((t,e,r,o)=>{if(!e)return[a.createVNode(p,{class:"title"},{default:a.withCtx((()=>[a.createTextVNode(a.toDisplayString(d.detail.title),1)])),_:1}),a.createVNode(p,{class:"meta"},{default:a.withCtx((()=>[a.createTextVNode(a.toDisplayString(d.detail.dynasty)+" · "+a.toDisplayString(d.detail.author),1)])),_:1})];e(i.ssrRenderComponent(p,{class:"title"},{default:a.withCtx(((t,e,r,o)=>{if(!e)return[a.createTextVNode(a.toDisplayString(d.detail.title),1)];e(`${i.ssrInterpolate(d.detail.title)}`)})),_:1},r,o)),e(i.ssrRenderComponent(p,{class:"meta"},{default:a.withCtx(((t,e,r,o)=>{if(!e)return[a.createTextVNode(a.toDisplayString(d.detail.dynasty)+" · "+a.toDisplayString(d.detail.author),1)];e(`${i.ssrInterpolate(d.detail.dynasty)} · ${i.ssrInterpolate(d.detail.author)}`)})),_:1},r,o))})),_:1},r,o)),e(i.ssrRenderComponent(u,{class:"content-box"},{default:a.withCtx(((t,e,r,o)=>{if(!e)return[a.createVNode(p,{class:"content"},{default:a.withCtx((()=>[a.createTextVNode(a.toDisplayString(d.detail.content),1)])),_:1})];e(i.ssrRenderComponent(p,{class:"content"},{default:a.withCtx(((t,e,r,o)=>{if(!e)return[a.createTextVNode(a.toDisplayString(d.detail.content),1)];e(`${i.ssrInterpolate(d.detail.content)}`)})),_:1},r,o))})),_:1},r,o)),e(i.ssrRenderComponent(u,{class:"action-bar"},{default:a.withCtx(((t,e,r,o)=>{if(!e)return[a.createVNode(x,{type:"primary",class:"btn-recite",onClick:c.goRecite},{default:a.withCtx((()=>[a.createTextVNode(" 开始背诵 ")])),_:1},8,["onClick"])];e(i.ssrRenderComponent(x,{type:"primary",class:"btn-recite",onClick:c.goRecite},{default:a.withCtx(((t,e,i,r)=>{if(!e)return[a.createTextVNode(" 开始背诵 ")];e(" 开始背诵 ")})),_:1},r,o))})),_:1},r,o))})),_:1},o))}],["__scopeId","data-v-32fec88e"]]);exports.default=n;
