"use strict";const e=require("@dcloudio/uni-h5"),o=require("./uni-icons.DF9TZjrB.js"),t=require("vue"),n=require("@dcloudio/uni-app"),s=require("./_plugin-vue_export-helper.BDcHAK_d.js");function l(e){let o="";for(let t in e){o+=`${t}:${e[t]};`}return o}const i={name:"uni-easyinput",emits:["click","iconClick","update:modelValue","input","focus","blur","confirm","clear","eyes","change","keyboardheightchange"],model:{prop:"modelValue",event:"update:modelValue"},options:{virtualHost:!0},inject:{form:{from:"uniForm",default:null},formItem:{from:"uniFormItem",default:null}},props:{name:String,value:[Number,String],modelValue:[Number,String],type:{type:String,default:"text"},clearable:{type:Boolean,default:!0},autoHeight:{type:Boolean,default:!1},placeholder:{type:String,default:" "},placeholderStyle:String,focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},confirmType:{type:String,default:"done"},clearSize:{type:[Number,String],default:24},inputBorder:{type:Boolean,default:!0},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},trim:{type:[Boolean,String],default:!1},cursorSpacing:{type:Number,default:0},passwordIcon:{type:Boolean,default:!0},adjustPosition:{type:Boolean,default:!0},primaryColor:{type:String,default:"#2979ff"},styles:{type:Object,default:()=>({color:"#333",backgroundColor:"#fff",disableColor:"#F7F6F6",borderColor:"#e5e5e5"})},errorMessage:{type:[String,Boolean],default:""}},data:()=>({focused:!1,val:"",showMsg:"",border:!1,isFirstBorder:!1,showClearIcon:!1,showPassword:!1,focusShow:!1,localMsg:"",isEnter:!1}),computed:{isVal(){const e=this.val;return!(!e&&0!==e)},msg(){return this.localMsg||this.errorMessage},inputMaxlength(){return Number(this.maxlength)},boxStyle(){return`color:${this.inputBorder&&this.msg?"#e43d33":this.styles.color};`},inputContentClass(){return function(e){let o="";for(let t in e)e[t]&&(o+=`${t} `);return o}({"is-input-border":this.inputBorder,"is-input-error-border":this.inputBorder&&this.msg,"is-textarea":"textarea"===this.type,"is-disabled":this.disabled,"is-focused":this.focusShow})},inputContentStyle(){const e=this.focusShow?this.primaryColor:this.styles.borderColor;return l({"border-color":(this.inputBorder&&this.msg?"#dd524d":e)||"#e5e5e5","background-color":this.disabled?this.styles.disableColor:this.styles.backgroundColor})},inputStyle(){return l({"padding-right":"password"===this.type||this.clearable||this.prefixIcon?"":"10px","padding-left":this.prefixIcon?"":"10px"})}},watch:{value(e){this.val=null!==e?e:""},modelValue(e){this.val=null!==e?e:""},focus(e){this.$nextTick((()=>{this.focused=this.focus,this.focusShow=this.focus}))}},created(){this.init(),this.form&&this.formItem&&this.$watch("formItem.errMsg",(e=>{this.localMsg=e}))},mounted(){this.$nextTick((()=>{this.focused=this.focus,this.focusShow=this.focus}))},methods:{init(){this.value||0===this.value?this.val=this.value:this.modelValue||0===this.modelValue||""===this.modelValue?this.val=this.modelValue:this.val=""},onClickIcon(e){this.$emit("iconClick",e)},onEyes(){this.showPassword=!this.showPassword,this.$emit("eyes",this.showPassword)},onInput(e){let o=e.detail.value;this.trim&&("boolean"==typeof this.trim&&this.trim&&(o=this.trimStr(o)),"string"==typeof this.trim&&(o=this.trimStr(o,this.trim))),this.errMsg&&(this.errMsg=""),this.val=o,this.$emit("update:modelValue",o),this.$emit("input",o)},onFocus(){this.$nextTick((()=>{this.focused=!0})),this.$emit("focus",null)},_Focus(e){this.focusShow=!0,this.$emit("focus",e)},onBlur(){this.focused=!1,this.$emit("blur",null)},_Blur(e){if(e.detail.value,this.focusShow=!1,this.$emit("blur",e),!1===this.isEnter&&this.$emit("change",this.val),this.form&&this.formItem){const{validateTrigger:e}=this.form;"blur"===e&&this.formItem.onFieldChange()}},onConfirm(e){this.$emit("confirm",this.val),this.isEnter=!0,this.$emit("change",this.val),this.$nextTick((()=>{this.isEnter=!1}))},onClear(e){this.val="",this.$emit("input",""),this.$emit("update:modelValue",""),this.$emit("clear")},onkeyboardheightchange(e){this.$emit("keyboardheightchange",e)},trimStr:(e,o="both")=>"both"===o?e.trim():"left"===o?e.trimLeft():"right"===o?e.trimRight():"start"===o?e.trimStart():"end"===o?e.trimEnd():"all"===o?e.replace(/\s+/g,""):e}};const a=i.setup;i.setup=(e,o)=>{const n=t.useSSRContext();return(n.modules||(n.modules=new Set)).add("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue"),a?a(e,o):void 0};const c=s._export_sfc(i,[["ssrRender",function(l,i,a,c,r,u,p,d){const h=e.View,y=n.resolveEasycom(t.resolveDynamicComponent("uni-icons"),o.__easycom_1),m=e.Textarea,f=e.Input;i(s.ssrRenderComponent(h,t.mergeProps({class:["uni-easyinput",{"uni-easyinput-error":d.msg}],style:d.boxStyle},c),{default:t.withCtx(((e,o,n,i)=>{if(!o)return[t.createVNode(h,{class:["uni-easyinput__content",d.inputContentClass],style:d.inputContentStyle},{default:t.withCtx((()=>[r.prefixIcon?(t.openBlock(),t.createBlock(y,{key:0,class:"content-clear-icon",type:r.prefixIcon,color:"#c0c4cc",onClick:e=>d.onClickIcon("prefix"),size:"22"},null,8,["type","onClick"])):t.createCommentVNode("",!0),t.renderSlot(l.$slots,"left",{},void 0,!0),"textarea"===r.type?(t.openBlock(),t.createBlock(m,{key:1,class:["uni-easyinput__content-textarea",{"input-padding":r.inputBorder}],name:r.name,value:p.val,placeholder:r.placeholder,placeholderStyle:r.placeholderStyle,disabled:r.disabled,"placeholder-class":"uni-easyinput__placeholder-class",maxlength:d.inputMaxlength,focus:p.focused,autoHeight:r.autoHeight,"cursor-spacing":r.cursorSpacing,"adjust-position":r.adjustPosition,onInput:d.onInput,onBlur:d._Blur,onFocus:d._Focus,onConfirm:d.onConfirm,onKeyboardheightchange:d.onkeyboardheightchange},null,8,["class","name","value","placeholder","placeholderStyle","disabled","maxlength","focus","autoHeight","cursor-spacing","adjust-position","onInput","onBlur","onFocus","onConfirm","onKeyboardheightchange"])):(t.openBlock(),t.createBlock(f,{key:2,type:"password"===r.type?"text":r.type,class:"uni-easyinput__content-input",style:d.inputStyle,name:r.name,value:p.val,password:!p.showPassword&&"password"===r.type,placeholder:r.placeholder,placeholderStyle:r.placeholderStyle,"placeholder-class":"uni-easyinput__placeholder-class",disabled:r.disabled,maxlength:d.inputMaxlength,focus:p.focused,confirmType:r.confirmType,"cursor-spacing":r.cursorSpacing,"adjust-position":r.adjustPosition,onFocus:d._Focus,onBlur:d._Blur,onInput:d.onInput,onConfirm:d.onConfirm,onKeyboardheightchange:d.onkeyboardheightchange},null,8,["type","style","name","value","password","placeholder","placeholderStyle","disabled","maxlength","focus","confirmType","cursor-spacing","adjust-position","onFocus","onBlur","onInput","onConfirm","onKeyboardheightchange"])),"password"===r.type&&r.passwordIcon?(t.openBlock(),t.createBlock(t.Fragment,{key:3},[d.isVal?(t.openBlock(),t.createBlock(y,{key:0,class:["content-clear-icon",{"is-textarea-icon":"textarea"===r.type}],type:p.showPassword?"eye-slash-filled":"eye-filled",size:22,color:p.focusShow?r.primaryColor:"#c0c4cc",onClick:d.onEyes},null,8,["class","type","color","onClick"])):t.createCommentVNode("",!0)],64)):t.createCommentVNode("",!0),r.suffixIcon?(t.openBlock(),t.createBlock(t.Fragment,{key:4},[r.suffixIcon?(t.openBlock(),t.createBlock(y,{key:0,class:"content-clear-icon",type:r.suffixIcon,color:"#c0c4cc",onClick:e=>d.onClickIcon("suffix"),size:"22"},null,8,["type","onClick"])):t.createCommentVNode("",!0)],64)):(t.openBlock(),t.createBlock(t.Fragment,{key:5},[r.clearable&&d.isVal&&!r.disabled&&"textarea"!==r.type?(t.openBlock(),t.createBlock(y,{key:0,class:["content-clear-icon",{"is-textarea-icon":"textarea"===r.type}],type:"clear",size:r.clearSize,color:d.msg?"#dd524d":p.focusShow?r.primaryColor:"#c0c4cc",onClick:d.onClear},null,8,["class","size","color","onClick"])):t.createCommentVNode("",!0)],64)),t.renderSlot(l.$slots,"right",{},void 0,!0)])),_:3},8,["class","style"])];o(s.ssrRenderComponent(h,{class:["uni-easyinput__content",d.inputContentClass],style:d.inputContentStyle},{default:t.withCtx(((e,o,n,i)=>{if(!o)return[r.prefixIcon?(t.openBlock(),t.createBlock(y,{key:0,class:"content-clear-icon",type:r.prefixIcon,color:"#c0c4cc",onClick:e=>d.onClickIcon("prefix"),size:"22"},null,8,["type","onClick"])):t.createCommentVNode("",!0),t.renderSlot(l.$slots,"left",{},void 0,!0),"textarea"===r.type?(t.openBlock(),t.createBlock(m,{key:1,class:["uni-easyinput__content-textarea",{"input-padding":r.inputBorder}],name:r.name,value:p.val,placeholder:r.placeholder,placeholderStyle:r.placeholderStyle,disabled:r.disabled,"placeholder-class":"uni-easyinput__placeholder-class",maxlength:d.inputMaxlength,focus:p.focused,autoHeight:r.autoHeight,"cursor-spacing":r.cursorSpacing,"adjust-position":r.adjustPosition,onInput:d.onInput,onBlur:d._Blur,onFocus:d._Focus,onConfirm:d.onConfirm,onKeyboardheightchange:d.onkeyboardheightchange},null,8,["class","name","value","placeholder","placeholderStyle","disabled","maxlength","focus","autoHeight","cursor-spacing","adjust-position","onInput","onBlur","onFocus","onConfirm","onKeyboardheightchange"])):(t.openBlock(),t.createBlock(f,{key:2,type:"password"===r.type?"text":r.type,class:"uni-easyinput__content-input",style:d.inputStyle,name:r.name,value:p.val,password:!p.showPassword&&"password"===r.type,placeholder:r.placeholder,placeholderStyle:r.placeholderStyle,"placeholder-class":"uni-easyinput__placeholder-class",disabled:r.disabled,maxlength:d.inputMaxlength,focus:p.focused,confirmType:r.confirmType,"cursor-spacing":r.cursorSpacing,"adjust-position":r.adjustPosition,onFocus:d._Focus,onBlur:d._Blur,onInput:d.onInput,onConfirm:d.onConfirm,onKeyboardheightchange:d.onkeyboardheightchange},null,8,["type","style","name","value","password","placeholder","placeholderStyle","disabled","maxlength","focus","confirmType","cursor-spacing","adjust-position","onFocus","onBlur","onInput","onConfirm","onKeyboardheightchange"])),"password"===r.type&&r.passwordIcon?(t.openBlock(),t.createBlock(t.Fragment,{key:3},[d.isVal?(t.openBlock(),t.createBlock(y,{key:0,class:["content-clear-icon",{"is-textarea-icon":"textarea"===r.type}],type:p.showPassword?"eye-slash-filled":"eye-filled",size:22,color:p.focusShow?r.primaryColor:"#c0c4cc",onClick:d.onEyes},null,8,["class","type","color","onClick"])):t.createCommentVNode("",!0)],64)):t.createCommentVNode("",!0),r.suffixIcon?(t.openBlock(),t.createBlock(t.Fragment,{key:4},[r.suffixIcon?(t.openBlock(),t.createBlock(y,{key:0,class:"content-clear-icon",type:r.suffixIcon,color:"#c0c4cc",onClick:e=>d.onClickIcon("suffix"),size:"22"},null,8,["type","onClick"])):t.createCommentVNode("",!0)],64)):(t.openBlock(),t.createBlock(t.Fragment,{key:5},[r.clearable&&d.isVal&&!r.disabled&&"textarea"!==r.type?(t.openBlock(),t.createBlock(y,{key:0,class:["content-clear-icon",{"is-textarea-icon":"textarea"===r.type}],type:"clear",size:r.clearSize,color:d.msg?"#dd524d":p.focusShow?r.primaryColor:"#c0c4cc",onClick:d.onClear},null,8,["class","size","color","onClick"])):t.createCommentVNode("",!0)],64)),t.renderSlot(l.$slots,"right",{},void 0,!0)];r.prefixIcon?o(s.ssrRenderComponent(y,{class:"content-clear-icon",type:r.prefixIcon,color:"#c0c4cc",onClick:e=>d.onClickIcon("prefix"),size:"22"},null,n,i)):o("\x3c!----\x3e"),s.ssrRenderSlot(l.$slots,"left",{},null,o,n,i),"textarea"===r.type?o(s.ssrRenderComponent(m,{class:["uni-easyinput__content-textarea",{"input-padding":r.inputBorder}],name:r.name,value:p.val,placeholder:r.placeholder,placeholderStyle:r.placeholderStyle,disabled:r.disabled,"placeholder-class":"uni-easyinput__placeholder-class",maxlength:d.inputMaxlength,focus:p.focused,autoHeight:r.autoHeight,"cursor-spacing":r.cursorSpacing,"adjust-position":r.adjustPosition,onInput:d.onInput,onBlur:d._Blur,onFocus:d._Focus,onConfirm:d.onConfirm,onKeyboardheightchange:d.onkeyboardheightchange},null,n,i)):o(s.ssrRenderComponent(f,{type:"password"===r.type?"text":r.type,class:"uni-easyinput__content-input",style:d.inputStyle,name:r.name,value:p.val,password:!p.showPassword&&"password"===r.type,placeholder:r.placeholder,placeholderStyle:r.placeholderStyle,"placeholder-class":"uni-easyinput__placeholder-class",disabled:r.disabled,maxlength:d.inputMaxlength,focus:p.focused,confirmType:r.confirmType,"cursor-spacing":r.cursorSpacing,"adjust-position":r.adjustPosition,onFocus:d._Focus,onBlur:d._Blur,onInput:d.onInput,onConfirm:d.onConfirm,onKeyboardheightchange:d.onkeyboardheightchange},null,n,i)),"password"===r.type&&r.passwordIcon?(o("\x3c!--[--\x3e"),d.isVal?o(s.ssrRenderComponent(y,{class:["content-clear-icon",{"is-textarea-icon":"textarea"===r.type}],type:p.showPassword?"eye-slash-filled":"eye-filled",size:22,color:p.focusShow?r.primaryColor:"#c0c4cc",onClick:d.onEyes},null,n,i)):o("\x3c!----\x3e"),o("\x3c!--]--\x3e")):o("\x3c!----\x3e"),r.suffixIcon?(o("\x3c!--[--\x3e"),r.suffixIcon?o(s.ssrRenderComponent(y,{class:"content-clear-icon",type:r.suffixIcon,color:"#c0c4cc",onClick:e=>d.onClickIcon("suffix"),size:"22"},null,n,i)):o("\x3c!----\x3e"),o("\x3c!--]--\x3e")):(o("\x3c!--[--\x3e"),r.clearable&&d.isVal&&!r.disabled&&"textarea"!==r.type?o(s.ssrRenderComponent(y,{class:["content-clear-icon",{"is-textarea-icon":"textarea"===r.type}],type:"clear",size:r.clearSize,color:d.msg?"#dd524d":p.focusShow?r.primaryColor:"#c0c4cc",onClick:d.onClear},null,n,i)):o("\x3c!----\x3e"),o("\x3c!--]--\x3e")),s.ssrRenderSlot(l.$slots,"right",{},null,o,n,i)})),_:3},n,i))})),_:3},a))}],["__scopeId","data-v-03c103b7"]]);exports.__easycom_6=c;
